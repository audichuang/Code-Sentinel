<idea-plugin>
    <id>com.cathaybk.codingassistant</id>
    <name>CathayBk Coding Assistant</name>
    <vendor email="support@cathaybk.com" url="https://www.cathaybk.com">CathayBk</vendor>

    <description><![CDATA[
    國泰銀行程式碼助手，用於協助開發人員遵循公司的編碼標準和規範。
    
    主要功能：
    - 檢查Controller層API方法是否添加了msgID註解
    - 自動關聯Controller的API方法與對應的Service實現
    - 提供程式碼規範檢查並顯示警告
    - 檢查注入的欄位是否缺少Javadoc註解並提供快速修復
    
    v1.3.0 更新內容：
    - 提交前檢查流程優化，提高執行效率
    - 問題面板（Problems Panel）界面優化，移除搜尋框，改善使用體驗
    - UI 元素顯示調整，適配最新版 IntelliJ IDEA
    - 修復 HTML 顯示相關的多處錯誤
    - 修復在 IntelliJ IDEA 2024.3 中無法正常運行的問題
    ]]></description>

    <!-- 更新 until-build 到一個較新的版本或保持通用，例如 251.* 表示直到 2025.1.x -->
    <idea-version since-build="231" until-build="251.*"/>

    <!-- 依賴關係 -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- 1. 原有的 API MsgID 檢查器 -->
        <localInspection language="JAVA"
                         displayName="API MsgID檢查"
                         groupName="CathayBk規範檢查"
                         enabledByDefault="true"
                         level="WARNING"
                         shortName="ApiMsgIdInspection"
                         implementationClass="com.cathaybk.codingassistant.inspection.ApiMsgIdInspection"/>

        <!-- ======================================== -->
        <!-- 2. 新增的 注入欄位 Javadoc 檢查器        -->
        <!--    (所有註解都已移到標籤外部)          -->
        <!-- ======================================== -->
        <localInspection language="JAVA"
                         displayName="注入的欄位缺少 Javadoc"
                         groupName="CathayBk規範檢查"
                         enabledByDefault="true"
                         level="WARNING"
                         shortName="InjectedFieldJavadocInspection"
                         implementationClass="com.cathaybk.codingassistant.inspection.InjectedFieldJavadocInspection"/>

        <!-- ======================================== -->
        <!-- 3. 新增 Commit 前檢查處理器           -->
        <!-- ======================================== -->
        <checkinHandlerFactory implementation="com.cathaybk.codingassistant.vcs.CathayBkCheckinHandlerFactory"/>

        <!-- ======================================== -->
        <!-- 4. 新增 Git 設置組件                   -->
        <!-- ======================================== -->
        <projectService serviceImplementation="com.cathaybk.codingassistant.settings.GitSettings"/>
        <applicationConfigurable 
                             groupId="tools" 
                             instance="com.cathaybk.codingassistant.settings.GitSettingsConfigurable"
                             id="com.cathaybk.codingassistant.settings.GitSettingsConfigurable" 
                             displayName="CathaybkCodingAssitant"/>

    </extensions>
</idea-plugin>